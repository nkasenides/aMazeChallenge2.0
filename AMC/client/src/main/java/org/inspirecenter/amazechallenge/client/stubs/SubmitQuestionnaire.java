/* --------------------------------------------------------------------------------
  This file was automatically generated by the Athlos Project Editor.
  Athlos Framework: http://nkasenides.github.io/athlos
  Generated on: 17-08-2021 12:37:25
  Athlos Project Editor, v0.1.0 BETA
-------------------------------------------------------------------------------- */

package org.inspirecenter.amazechallenge.client.stubs;


import org.inspirecenter.amazechallenge.proto.*;
import com.nkasenides.athlos.client.stubs.OnRequestSuccessListener;
import com.raylabz.javahttp.BinaryHTTPRequest;
import com.raylabz.javahttp.OnFailureListener;
import org.inspirecenter.amazechallenge.proto.SubmitQuestionnaireRequest;
import org.inspirecenter.amazechallenge.proto.SubmitQuestionnaireResponse;

public class SubmitQuestionnaire {

    private final String url = Stubs.BASE_URL + "/api/submitQuestionnaire";

    public void sendAndWait(SubmitQuestionnaireRequest request, OnRequestSuccessListener<SubmitQuestionnaireResponse> successListener, OnFailureListener failureListener) {
        BinaryHTTPRequest.create(url)
                .onSuccess(response -> {
                    final byte[] content = response.getContent();
                    final SubmitQuestionnaireResponse protoResponse = SubmitQuestionnaireResponse.parseFrom(content);
                    successListener.onSuccess(protoResponse);
                })
                .onFailure(failureListener)
                .putBytes(request.toByteArray())
                .build()
                .sendAndWait();
    }

    public void send(SubmitQuestionnaireRequest request, OnRequestSuccessListener<SubmitQuestionnaireResponse> successListener, OnFailureListener failureListener) {
        BinaryHTTPRequest.create(url)
                .onSuccess(response -> {
                    final byte[] content = response.getContent();
                    final SubmitQuestionnaireResponse protoResponse = SubmitQuestionnaireResponse.parseFrom(content);
                    successListener.onSuccess(protoResponse);
                })
                .onFailure(failureListener)
                .putBytes(request.toByteArray())
                .build()
                .send();
    }

    public void sendAndWait(SubmitQuestionnaireRequest request, OnRequestSuccessListener<SubmitQuestionnaireResponse> successListener) {
        BinaryHTTPRequest.create(url)
                .onSuccess(response -> {
                    final byte[] content = response.getContent();
                    final SubmitQuestionnaireResponse protoResponse = SubmitQuestionnaireResponse.parseFrom(content);
                    successListener.onSuccess(protoResponse);
                })
                .putBytes(request.toByteArray())
                .build()
                .sendAndWait();
    }

    public void send(SubmitQuestionnaireRequest request, OnRequestSuccessListener<SubmitQuestionnaireResponse> successListener) {
        BinaryHTTPRequest.create(url)
                .onSuccess(response -> {
                    final byte[] content = response.getContent();
                    final SubmitQuestionnaireResponse protoResponse = SubmitQuestionnaireResponse.parseFrom(content);
                    successListener.onSuccess(protoResponse);
                })
                .putBytes(request.toByteArray())
                .build()
                .send();
    }
}

